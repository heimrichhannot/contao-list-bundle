!function(e){function t(t){for(var n,r,i=t[0],o=t[1],l=0,u=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);u.length;)u.shift()()}var n={},a={"contao-list-bundle":0};function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=i);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=function(e){return r.p+""+({imagesloaded:"imagesloaded","masonry-layout":"masonry-layout"}[e]||e)+".js"}(e);var s=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}a[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/bundles/heimrichhannotlistbundle/",r.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=o;r(r.s="nEhL")}({"5r56":function(e,t){e.exports=utilsBundle},StVt:function(e,t){e.exports=bootstrap},nEhL:function(e,t,n){"use strict";n.r(t);n("5r56");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,i;return t=e,i=[{key:"init",value:function(){e.initPagination(),e.initMasonry(),e.initEvents(),e.initModal(),e.initVideo()}},{key:"initVideo",value:function(){document.querySelectorAll(".video-player").forEach((function(e){var t=e.querySelector(".play-button"),n=e.querySelector(".poster"),a=e.querySelector("video");t&&t.addEventListener("click",(function(){a.play(),n.classList.add("d-none")}))}))}},{key:"initEvents",value:function(){document.addEventListener("filterAjaxComplete",(function(t){e.updateList(t.detail),e.initMasonry()}))}},{key:"initModal",value:function(){var e=location.href;document.querySelectorAll('.huh-list .items[data-open-list-items-in-modal="1"]').length<1||(document.querySelectorAll('.huh-list .items[data-open-list-items-in-modal="1"]').forEach((function(t){var a="modal-"+t.closest(".wrapper").getAttribute("id");void 0!==window.jQuery?window.jQuery("#"+a).on("hidden.bs.modal",(function(t){history.pushState({modalId:a},"",e)})):(Promise.resolve().then(n.t.bind(null,"StVt",7)).then((function(e){new e.Modal(document.getElementById(a))})),document.getElementById(a).addEventListener("hidden.bs.modal",(function(t){history.pushState({modalId:a},"",e)})))})),addEventListener("popstate",(function(e){void 0!==window.jQuery?window.jQuery("#"+e.state.modalId).modal("hide"):Promise.resolve().then(n.t.bind(null,"StVt",7)).then((function(t){t.Modal.getInstance(document.getElementById(e.state.modalId)).hide()}))})),utilsBundle.event.addDynamicEventListener("click",'.huh-list .items[data-open-list-items-in-modal="1"] .item .details.modal-link',(function(e,t){var a=new CustomEvent("huh.list.modal_link_clicked",{bubbles:!0,detail:{linkElement:e,timeout:0,openModal:!0}});e.dispatchEvent(a),!1!==a.detail.openModal&&(t.preventDefault(),Number.isInteger(a.detail.timeout)||(a.detail.timeout=0),setTimeout((function(){utilsBundle.ajax.get(e.getAttribute("href"),{},{onSuccess:function(t){var a=document.createElement("div"),r=e.closest(".items"),i=r.getAttribute("data-list-modal-reader-type"),o=r.getAttribute("data-list-modal-reader-css-selector"),l=r.getAttribute("data-list-modal-reader-module"),s="modal-"+r.closest(".wrapper").getAttribute("id"),u=null;switch(a.innerHTML=t.response.trim(),i){case"huh_reader":if(null===(u=a.querySelector("#huh-reader-"+l)))return void console.warn("Reader not found with selector: #huh-reader-"+l);break;case"css_selector":if(null===(u=a.querySelector(o)))return void console.warn("Reader not found with selector: "+o)}if(null!==u){var d=document.getElementById(s);d.querySelector(".modal-content .modal-body").innerHTML=u.outerHTML;var c=document.getElementsByTagName("head")[0]||document.documentElement;d.querySelectorAll(".modal-content .modal-body script").forEach((function(e){var t=document.createElement("script");Array.from(e.attributes).forEach((function(e){return t.setAttribute(e.name,e.value)})),t.appendChild(document.createTextNode(e.innerHTML||e.innerText)),c.insertBefore(t,c.firstChild)})),void 0!==window.jQuery?window.jQuery("#"+s).modal("show"):Promise.resolve().then(n.t.bind(null,"StVt",7)).then((function(e){e.Modal.getInstance(d).show()})),e.dispatchEvent(new CustomEvent("huh.list.modal_show",{bubbles:!0,detail:{modalElement:d,modalId:s}})),history.pushState({modalId:s},"",e.getAttribute("href")),history.pushState({modalId:s},"",e.getAttribute("href"))}},onError:function(t){e.dispatchEvent(new CustomEvent("huh.list.modal_load_error",{bubbles:!0,detail:{statusCode:t.status,statusText:t.statusText,response:t.response,responseText:t.responseText,url:t.responseURL}}))}})}),a.detail.timeout))})))}},{key:"isAtBottom",value:function(e){return e.getBoundingClientRect().bottom<=(window.innerHeight||document.getElementById("main").clientHeight)}},{key:"initPagination",value:function(){document.querySelectorAll(".huh-list .ajax-pagination").forEach((function(t){var n=t.closest(".huh-list"),a=n.querySelector(".items");if(n&&a){var r={loadingHtml:'<div class="loading"><span class="text">Lade...</span></div>',enableScreenReaderMessage:!0,screenReaderMessage:"Es wurden neue Einträge zur Liste hinzugefügt.",disableLiveRegion:!1};!t.hasAttribute("data-disable-live-region")||!0!==t.getAttribute("data-disable-live-region")&&"1"!==t.getAttribute("data-disable-live-region")&&"true"!==t.getAttribute("data-disable-live-region")||(r.disableLiveRegion=!0),r.disableLiveRegion||(a.setAttribute("aria-busy","false"),a.setAttribute("aria-live","polite"),a.setAttribute("aria-relevant","additions text"),a.setAttribute("aria-atomic","false"),!t.hasAttribute("data-enable-screen-reader-message")||!0!==t.getAttribute("data-enable-screen-reader-message")&&"1"!==t.getAttribute("data-enable-screen-reader-message")&&"true"!==t.getAttribute("data-enable-screen-reader-message")||(r.enableScreenReaderMessage=!0),t.hasAttribute("data-screen-reader-message")&&(r.screenReaderMessage=t.getAttribute("data-screen-reader-message"))),document.addEventListener("scroll",(function(t){a.hasAttribute("data-add-infinite-scroll")&&"1"===a.dataset.addInfiniteScroll&&e.isAtBottom(n)&&i(t)}),{passive:!0}),t.querySelector("a.next").addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),i(e)}));var i=function i(o){var l=new XMLHttpRequest;!a.classList.contains("loading")&&t.querySelector(".huh-list .ajax-pagination a.next")&&(l.onreadystatechange=function(){if(1===l.readyState){if(n.dispatchEvent(new CustomEvent("huh.list.ajax-pagination-loading",{bubbles:!0,detail:{wrapper:n.querySelector(".wrapper"),pagination:t,items:a}})),t.innerHTML=r.loadingHtml,!r.disableLiveRegion){a.setAttribute("aria-busy","true");var o=a.querySelector("span.sr-only");if(null!==o)try{a.removeChild(o)}catch(e){}}a.classList.add("loading")}if(4===l.readyState&&200===l.status){var s=l.responseText,u=(new DOMParser).parseFromString(s,"text/html"),d=u.querySelector(".huh-list #"+n.querySelector(".wrapper").getAttribute("id")+" .items");if(!0===r.enableScreenReaderMessage){var c=document.createElement("span");c.classList.add("sr-only"),c.textContent=r.screenReaderMessage,a.appendChild(c)}if("mixedContent"in d.dataset?a.innerHTML+=d.innerHTML:d.querySelectorAll(".item").forEach((function(e){a.appendChild(e)})),t.innerHTML="",u.querySelector(".huh-list .ajax-pagination a.next")){var m=u.querySelector(".huh-list #"+n.querySelector(".wrapper").getAttribute("id")+" .ajax-pagination a.next");m.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),i()})),t.appendChild(m)}a.querySelectorAll(".item").forEach((function(e){e.classList.forEach((function(t){t.match(/item_\d+/g)&&e.classList.remove(t)}))})),a.querySelectorAll(".item").forEach((function(e,t,n){var a=t+1;e.classList.remove("odd","even","first","last"),e.classList.add("item_"+a),a%2==0?e.classList.add("even"):e.classList.add("odd"),1===a&&e.classList.add("first"),a===n.length&&e.classList.add("last")})),n.dispatchEvent(new CustomEvent("huh.list.ajax-pagination-loaded",{bubbles:!0,detail:{wrapper:n.querySelector(".wrapper"),pagination:t,items:a}})),r.disableLiveRegion||a.setAttribute("aria-busy","false"),a.classList.remove("loading"),e.initMasonry()}},l.open("GET",t.querySelector(".huh-list .ajax-pagination a.next").href,!0),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Huh-List-Request","Ajax-Pagination"),l.send())}}else console.warn("Ajax pagination does not contain list or item containers.")}))}},{key:"initMasonry",value:function(){document.querySelectorAll('.huh-list .items[data-add-masonry="1"]').length<1||n.e("masonry-layout").then(n.t.bind(null,"hNNL",7)).then((function(e){var t=e.default;n.e("imagesloaded").then(n.t.bind(null,"vX6Q",7)).then((function(e){var n=e.default;document.querySelectorAll('.huh-list .items[data-add-masonry="1"]').forEach((function(e,a,r){var i={itemSelector:".item",stamp:".stamp-item"},o=e.getAttribute("data-masonry");null!==o&&""!==o&&(i=Object.assign({},i,JSON.parse(o))),n(e,(function(n){new t(e,i).layout()}))}))}))}))}},{key:"updateList",value:function(e){var t=JSON.parse(e.getAttribute("data-response")),n=e.getAttribute("data-list"),a=document.querySelector(n).parentNode;a.outerHTML=t.list,document.dispatchEvent(new CustomEvent("huh.list.list_update_complete",{detail:{list:a,listId:n,filter:e},bubbles:!0,cancelable:!0}))}}],(a=null)&&r(t.prototype,a),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("DOMContentLoaded",i.init)}});